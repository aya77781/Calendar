* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --bg-primary: #FFF0F5;
    --bg-secondary: #FFF8F9;
    --text-primary: #8B4A6B;
    --text-secondary: #B87A9B;
    --text-muted: #D4A5C0;
    --border-color: #F5D0E1;
    --weekend-color: #E91E63;
    --red-task: #E91E63;
    --blue-task: #EC407A;
    --yellow-task: #F48FB1;
    --green-btn: #F06292;
    --pink-gradient: linear-gradient(135deg, #FFB6D9 0%, #FF9EC7 50%, #FF85B5 100%);
    --rose-light: #FFE4F0;
    --rose-medium: #FFB6D9;
    --rose-dark: #FF85B5;
    --shadow-sm: 0 1px 3px rgba(233, 30, 99, 0.1);
    --shadow-md: 0 4px 6px rgba(233, 30, 99, 0.15);
    --shadow-lg: 0 10px 25px rgba(233, 30, 99, 0.2);
    --calendar-cell-width: 150px;
    --calendar-cell-height: 150px;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    background: var(--bg-primary);
    background-image: 
        url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 20 Q60 30 70 20 Q80 30 70 40 Q80 50 70 60 Q60 50 50 60 Q40 50 30 60 Q20 50 30 40 Q20 30 30 20 Q40 30 50 20 Z' fill='%23FFB6D9' opacity='0.15'/%3E%3Cpath d='M20 50 Q30 40 40 50 Q30 60 20 50 Z' fill='%23FF85B5' opacity='0.1'/%3E%3Cpath d='M80 50 Q90 40 100 50 Q90 60 80 50 Z' fill='%23FF85B5' opacity='0.1'/%3E%3Cpath d='M50 80 Q60 70 70 80 Q80 90 70 100 Q60 90 50 100 Q40 90 30 100 Q20 90 30 80 Q40 70 50 80 Z' fill='%23FFB6D9' opacity='0.15'/%3E%3C/svg%3E"),
        linear-gradient(rgba(255, 182, 217, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 182, 217, 0.03) 1px, transparent 1px);
    background-size: 200px 200px, 20px 20px, 20px 20px;
    min-height: 100vh;
    padding: 40px 20px;
    color: var(--text-primary);
}

.app-container {
    max-width: 1400px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr;
    gap: 30px;
    background: var(--bg-secondary);
    border-radius: 16px;
    box-shadow: var(--shadow-lg);
    overflow: hidden;
    position: relative;
    transition: grid-template-columns 0.3s ease;
}

.app-container.sidebar-open {
    grid-template-columns: 1fr 380px;
}

.app-container::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 40%;
    height: 100%;
    background: var(--pink-gradient);
    opacity: 0.12;
    z-index: 0;
    pointer-events: none;
    background-image: url("data:image/svg+xml,%3Csvg width='150' height='150' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M75 30 Q85 40 95 30 Q105 40 95 50 Q105 60 95 70 Q85 60 75 70 Q65 60 55 70 Q45 60 55 50 Q45 40 55 30 Q65 40 75 30 Z' fill='%23FFFFFF' opacity='0.2'/%3E%3Cpath d='M30 75 Q40 65 50 75 Q40 85 30 75 Z' fill='%23FFFFFF' opacity='0.15'/%3E%3Cpath d='M120 75 Q130 65 140 75 Q130 85 120 75 Z' fill='%23FFFFFF' opacity='0.15'/%3E%3Cpath d='M75 120 Q85 110 95 120 Q105 130 95 140 Q85 130 75 140 Q65 130 55 140 Q45 130 55 120 Q65 110 75 120 Z' fill='%23FFFFFF' opacity='0.2'/%3E%3C/svg%3E");
    background-size: 200px 200px;
    transition: background 0.3s ease;
}

.calendar-wrapper {
    padding: 40px;
    position: relative;
    z-index: 1;
}

.calendar-header-section {
    margin-bottom: 30px;
}

.greeting-message {
    font-size: 24px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 20px;
    letter-spacing: -0.3px;
}

.sidebar-toggle-btn {
    position: fixed;
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: var(--green-btn);
    color: white;
    border: none;
    font-size: 20px;
    cursor: pointer;
    box-shadow: var(--shadow-lg);
    z-index: 1000;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.sidebar-toggle-btn:hover {
    transform: translateY(-50%) scale(1.1);
    box-shadow: 0 15px 35px rgba(233, 30, 99, 0.3);
}

.sidebar-toggle-btn.sidebar-open {
    right: 400px;
}


.month-year-controls {
    display: flex;
    align-items: center;
    gap: 20px;
}

.month-year {
    font-size: 32px;
    font-weight: 700;
    color: var(--text-primary);
    letter-spacing: -0.5px;
}

.nav-btn {
    background: transparent;
    border: 1px solid var(--border-color);
    width: 40px;
    height: 40px;
    border-radius: 8px;
    font-size: 24px;
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.nav-btn:hover {
    background: var(--bg-primary);
    border-color: var(--text-secondary);
}

.calendar-container {
    background: var(--bg-secondary);
}

.weekdays-header {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 8px;
    margin-bottom: 12px;
}

.weekday {
    text-align: center;
    font-size: 12px;
    font-weight: 600;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    padding: 8px 0;
}

.calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 8px;
}

.calendar-day {
    width: var(--calendar-cell-width);
    height: var(--calendar-cell-height);
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 10 Q35 15 40 10 Q45 15 40 20 Q45 25 40 30 Q35 25 30 30 Q25 25 20 30 Q15 25 20 20 Q15 15 20 10 Q25 15 30 10 Z' fill='%23FFB6D9' opacity='0.08'/%3E%3C/svg%3E");
    background-size: 40px 40px;
    background-position: center;
}

.calendar-day:hover {
    border-color: var(--text-secondary);
    box-shadow: var(--shadow-sm);
}

.calendar-day.other-month {
    opacity: 0.3;
    background: var(--bg-primary);
}

.calendar-day.today {
    border: 2px solid var(--text-primary);
    background: var(--bg-primary);
}

.calendar-day.selected {
    border: 2px solid var(--green-btn);
    box-shadow: 0 0 0 3px rgba(240, 98, 146, 0.2);
}

.day-number {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 6px;
    flex-shrink: 0;
}

.calendar-day.weekend .day-number {
    color: var(--weekend-color);
}

.calendar-tasks {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
    overflow: hidden;
    min-height: 0;
}

.calendar-task-item {
    width: 100%;
    padding: 6px 8px;
    border-radius: 6px;
    font-size: 11px;
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    cursor: pointer;
    transition: all 0.2s ease;
    flex-shrink: 0;
    text-align: center;
    color: white;
}

/* Tâches terminées dans le calendrier : visibles mais barrées et un peu atténuées */
.calendar-task-item.completed {
    opacity: 0.7;
    text-decoration: line-through;
    text-decoration-thickness: 2px;
}

.calendar-task-item:hover {
    transform: scale(1.02);
    box-shadow: var(--shadow-sm);
}

.calendar-task-item.rose {
    background: #FFB6D9;
    color: var(--text-primary);
}

.calendar-task-item.vert {
    background: #90EE90;
    color: var(--text-primary);
}

.calendar-task-item.jaune {
    background: #FFE082;
    color: var(--text-primary);
}

.calendar-task-item.bleu {
    background: #81D4FA;
    color: var(--text-primary);
}

.calendar-task-item.violet {
    background: #CE93D8;
    color: var(--text-primary);
}

.calendar-task-item.blanc {
    background: #FFFFFF;
    color: var(--text-primary);
    border: 1px solid var(--border-color);
}

.calendar-task-more {
    width: 100%;
    padding: 4px 8px;
    border-radius: 6px;
    font-size: 10px;
    font-weight: 500;
    background: var(--bg-primary);
    color: var(--text-secondary);
    text-align: center;
    flex-shrink: 0;
}

.calendar-day.has-task {
    padding: 0;
}

.calendar-day.has-task .day-number {
    position: absolute;
    top: 8px;
    left: 8px;
    z-index: 2;
    color: white;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.calendar-day.has-task.rose {
    background: #FFB6D9;
    border-color: #FFB6D9;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 10 Q35 15 40 10 Q45 15 40 20 Q45 25 40 30 Q35 25 30 30 Q25 25 20 30 Q15 25 20 20 Q15 15 20 10 Q25 15 30 10 Z' fill='%23FFFFFF' opacity='0.15'/%3E%3C/svg%3E");
    background-size: 50px 50px;
}

.calendar-day.has-task.vert {
    background: #90EE90;
    border-color: #90EE90;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 10 Q35 15 40 10 Q45 15 40 20 Q45 25 40 30 Q35 25 30 30 Q25 25 20 30 Q15 25 20 20 Q15 15 20 10 Q25 15 30 10 Z' fill='%23FFFFFF' opacity='0.15'/%3E%3C/svg%3E");
    background-size: 50px 50px;
}

.calendar-day.has-task.jaune {
    background: #FFE082;
    border-color: #FFE082;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 10 Q35 15 40 10 Q45 15 40 20 Q45 25 40 30 Q35 25 30 30 Q25 25 20 30 Q15 25 20 20 Q15 15 20 10 Q25 15 30 10 Z' fill='%23FFFFFF' opacity='0.15'/%3E%3C/svg%3E");
    background-size: 50px 50px;
}

.calendar-day.has-task.bleu {
    background: #81D4FA;
    border-color: #81D4FA;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 10 Q35 15 40 10 Q45 15 40 20 Q45 25 40 30 Q35 25 30 30 Q25 25 20 30 Q15 25 20 20 Q15 15 20 10 Q25 15 30 10 Z' fill='%23FFFFFF' opacity='0.15'/%3E%3C/svg%3E");
    background-size: 50px 50px;
}

.calendar-day.has-task.violet {
    background: #CE93D8;
    border-color: #CE93D8;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 10 Q35 15 40 10 Q45 15 40 20 Q45 25 40 30 Q35 25 30 30 Q25 25 20 30 Q15 25 20 20 Q15 15 20 10 Q25 15 30 10 Z' fill='%23FFFFFF' opacity='0.15'/%3E%3C/svg%3E");
    background-size: 50px 50px;
}

.calendar-day.has-task.blanc {
    background: #FFFFFF;
    border-color: var(--border-color);
    border-width: 2px;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 10 Q35 15 40 10 Q45 15 40 20 Q45 25 40 30 Q35 25 30 30 Q25 25 20 30 Q15 25 20 20 Q15 15 20 10 Q25 15 30 10 Z' fill='%23FFB6D9' opacity='0.1'/%3E%3C/svg%3E");
    background-size: 50px 50px;
}

.calendar-day.has-task .calendar-tasks {
    height: 100%;
    justify-content: center;
    padding: 8px;
    padding-top: 28px;
}

.calendar-day.has-task .calendar-task-item {
    background: rgba(255, 255, 255, 0.3);
    backdrop-filter: blur(4px);
    color: var(--text-primary);
    font-weight: 600;
}

.calendar-day.has-task.blanc .calendar-task-item {
    background: rgba(0, 0, 0, 0.05);
    color: var(--text-primary);
}

.sidebar {
    background: var(--bg-secondary);
    border-left: 1px solid var(--border-color);
    padding: 30px;
    display: flex;
    flex-direction: column;
    height: 100vh;
    position: fixed;
    top: 0;
    right: -400px;
    width: 380px;
    z-index: 999;
    box-shadow: -5px 0 25px rgba(233, 30, 99, 0.2);
    transition: right 0.3s ease;
    overflow-y: auto;
}

.sidebar.open {
    right: 0;
}

.sidebar-header-actions {
    display: flex;
    gap: 8px;
    align-items: center;
}

.close-sidebar-btn {
    width: 32px;
    height: 32px;
    border: 1px solid var(--border-color);
    background: var(--bg-secondary);
    border-radius: 6px;
    font-size: 20px;
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.close-sidebar-btn:hover {
    background: var(--bg-primary);
    border-color: var(--text-secondary);
}

.logout-btn {
    padding: 6px 12px;
    border: 1px solid var(--border-color);
    background: var(--bg-secondary);
    border-radius: 6px;
    font-size: 12px;
    font-weight: 600;
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.2s ease;
    white-space: nowrap;
}

.logout-btn:hover {
    background: var(--bg-primary);
    border-color: var(--text-secondary);
}

.sidebar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--border-color);
}

.sidebar-header h2 {
    font-size: 24px;
    font-weight: 700;
    color: var(--text-primary);
}

.add-btn {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    background: var(--bg-secondary);
    font-size: 20px;
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.add-btn:hover {
    background: var(--bg-primary);
    border-color: var(--text-secondary);
}

.calendars-section {
    margin-bottom: 24px;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--border-color);
}

.calendars-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.calendars-header h3 {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-primary);
}

.add-calendar-btn {
    width: 28px;
    height: 28px;
    border-radius: 6px;
    border: 1px solid var(--border-color);
    background: var(--bg-secondary);
    font-size: 18px;
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.add-calendar-btn:hover {
    background: var(--bg-primary);
    border-color: var(--text-secondary);
}

.calendars-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.calendar-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 2px solid transparent;
}

.calendar-item:hover {
    background: var(--bg-primary);
}

.calendar-item.active {
    background: var(--bg-primary);
    border-color: var(--text-secondary);
    font-weight: 600;
}

.calendar-color-indicator {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    flex-shrink: 0;
    border: 2px solid var(--border-color);
}

.calendar-item-name {
    flex: 1;
    font-size: 14px;
    color: var(--text-primary);
}

.calendar-item-actions {
    display: flex;
    gap: 4px;
}

.calendar-item-actions button {
    width: 24px;
    height: 24px;
    border: none;
    background: transparent;
    color: var(--text-muted);
    cursor: pointer;
    border-radius: 4px;
    font-size: 12px;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.calendar-item-actions button:hover {
    background: var(--bg-secondary);
    color: var(--text-primary);
}

.color-picker-large {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 12px;
    margin-top: 8px;
}

.color-picker-large input[type="radio"] {
    display: none;
}

.color-option-large {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    cursor: pointer;
    border: 3px solid transparent;
    transition: all 0.2s ease;
    box-shadow: var(--shadow-sm);
}

.color-option-large.rose {
    background: #FFB6D9;
}

.color-option-large.vert {
    background: #90EE90;
}

.color-option-large.jaune {
    background: #FFE082;
}

.color-option-large.bleu {
    background: #81D4FA;
}

.color-option-large.violet {
    background: #CE93D8;
}

.color-option-large.blanc {
    background: #FFFFFF;
    border: 2px solid var(--border-color);
}

.color-picker-large input[type="radio"]:checked + .color-option-large {
    border-color: var(--text-primary);
    transform: scale(1.15);
    box-shadow: var(--shadow-md);
}

.selected-date-info {
    padding: 16px;
    background: var(--bg-primary);
    border-radius: 8px;
    margin-bottom: 20px;
    font-size: 14px;
    font-weight: 500;
    color: var(--text-secondary);
    text-align: center;
}

.tasks-list {
    flex: 1;
    overflow-y: auto;
    margin-bottom: 20px;
    min-height: 200px;
    padding: 8px 0;
}

.task-item {
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 12px;
    transition: all 0.2s ease;
    cursor: pointer;
}

.task-item:hover {
    box-shadow: var(--shadow-sm);
    border-color: var(--text-secondary);
}

.task-item.completed {
    opacity: 0.6;
    text-decoration: line-through;
}

.task-item-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 8px;
}

.task-item-title {
    font-weight: 600;
    font-size: 15px;
    color: var(--text-primary);
    flex: 1;
}

.task-item-time {
    font-size: 12px;
    color: var(--text-muted);
    margin-left: 12px;
}

.task-item-description {
    font-size: 13px;
    color: var(--text-secondary);
    margin-top: 8px;
    line-height: 1.5;
}

.task-item-actions {
    display: flex;
    gap: 8px;
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid var(--border-color);
}

.task-item-actions {
    display: flex !important;
    gap: 8px;
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid var(--border-color);
    visibility: visible !important;
    opacity: 1 !important;
}

.task-item-actions button {
    padding: 8px 14px;
    font-size: 13px;
    font-weight: 500;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background: var(--bg-secondary);
    color: var(--text-primary);
    cursor: pointer;
    transition: all 0.2s ease;
    flex: 1;
    min-width: 80px;
    visibility: visible !important;
    opacity: 1 !important;
    display: block !important;
}

.task-item-actions button:hover {
    background: var(--bg-primary);
    border-color: var(--text-secondary);
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
}

.task-item-actions button:active {
    transform: translateY(0);
}

.empty-state {
    text-align: center;
    padding: 40px 20px;
    color: var(--text-muted);
}

.empty-state p {
    font-size: 14px;
}

.history-section {
    border-top: 1px solid var(--border-color);
    padding-top: 20px;
}

.history-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
    cursor: pointer;
    padding: 8px;
    border-radius: 6px;
    transition: background 0.2s ease;
}

.history-header:hover {
    background: var(--bg-primary);
}

.history-header h3 {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-primary);
}

.toggle-icon {
    font-size: 12px;
    color: var(--text-muted);
    transition: transform 0.2s ease;
}

.history-list {
    max-height: 300px;
    overflow-y: auto;
    display: none;
}

.history-list.visible {
    display: block;
}

.history-date-header {
    margin: 16px 0 8px 0;
    padding: 8px 12px;
    background: var(--bg-primary);
    border-radius: 6px;
    font-size: 12px;
    font-weight: 600;
    color: var(--text-secondary);
}

.history-item {
    margin-bottom: 8px;
}

.late-badge {
    display: inline-block;
    background: rgba(220, 53, 69, 0.1);
    color: var(--red-task);
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
    margin-left: 8px;
}

.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
}

.modal-content {
    background: var(--bg-secondary);
    margin: 5% auto;
    padding: 0;
    border-radius: 16px;
    width: 90%;
    max-width: 500px;
    max-height: 90vh;
    overflow: hidden;
    box-shadow: var(--shadow-lg);
    position: relative;
    display: flex;
    flex-direction: column;
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 24px 30px;
    border-bottom: 1px solid var(--border-color);
}

.modal-header h2 {
    font-size: 24px;
    font-weight: 700;
    color: var(--text-primary);
}

.close-btn {
    width: 32px;
    height: 32px;
    border: none;
    background: transparent;
    font-size: 28px;
    color: var(--text-muted);
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 6px;
}

.close-btn:hover {
    background: var(--bg-primary);
    color: var(--text-primary);
}

#taskForm {
    padding: 30px;
    overflow-y: auto;
    flex: 1;
}

.form-group {
    margin-bottom: 24px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    font-size: 14px;
    color: var(--text-primary);
}

.form-group input[type="text"],
.form-group input[type="date"],
.form-group input[type="time"],
.form-group textarea,
.form-group select {
    width: 100%;
    padding: 12px;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-size: 14px;
    font-family: inherit;
    transition: all 0.2s ease;
    background: var(--bg-secondary);
    color: var(--text-primary);
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
    outline: none;
    border-color: var(--green-btn);
    box-shadow: 0 0 0 3px rgba(240, 98, 146, 0.2);
}

.color-picker {
    display: flex;
    gap: 12px;
    margin-top: 8px;
}

.color-picker input[type="radio"] {
    display: none;
}

.color-option {
    width: 40px;
    height: 40px;
    border-radius: 8px;
    cursor: pointer;
    border: 2px solid transparent;
    transition: all 0.2s ease;
    box-shadow: var(--shadow-sm);
}

.color-option.red {
    background: var(--red-task);
}

.color-option.blue {
    background: var(--blue-task);
}

.color-option.yellow {
    background: var(--yellow-task);
}

.color-picker input[type="radio"]:checked + .color-option {
    border-color: var(--text-primary);
    transform: scale(1.1);
    box-shadow: var(--shadow-md);
}

.form-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    margin-top: 30px;
    padding-top: 24px;
    border-top: 1px solid var(--border-color);
}

.btn-primary,
.btn-secondary,
.btn-delete {
    padding: 10px 20px;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-primary {
    background: var(--green-btn);
    color: white;
    border-color: var(--green-btn);
}

.btn-primary:hover {
    background: #E91E63;
    border-color: #E91E63;
}

.btn-secondary {
    background: var(--bg-secondary);
    color: var(--text-primary);
}

.btn-secondary:hover {
    background: var(--bg-primary);
}

.btn-delete {
    background: var(--red-task);
    color: white;
    border-color: var(--red-task);
}

.btn-delete:hover {
    background: #c82333;
    border-color: #c82333;
}

.tasks-list::-webkit-scrollbar,
.history-list::-webkit-scrollbar {
    width: 6px;
}

.tasks-list::-webkit-scrollbar-track,
.history-list::-webkit-scrollbar-track {
    background: var(--bg-primary);
    border-radius: 3px;
}

.tasks-list::-webkit-scrollbar-thumb,
.history-list::-webkit-scrollbar-thumb {
    background: var(--border-color);
    border-radius: 3px;
}

.tasks-list::-webkit-scrollbar-thumb:hover,
.history-list::-webkit-scrollbar-thumb:hover {
    background: var(--text-muted);
}

@media (max-width: 1024px) {
    .app-container {
        grid-template-columns: 1fr;
    }
    
    .sidebar {
        border-left: none;
        border-top: 1px solid var(--border-color);
    }
}
